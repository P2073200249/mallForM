<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="text" placeholder="kind"/>
<input type="text" placeholder="font"/>
<input type="file" id="file" name="file"/>
<button>提交</button>
<script src="./jquery-3.6.0.min.js"></script>
<script>
    $("button").click(()=> {
        let kind = $("input").eq(0).val();
        let font = $("input").eq(1).val();
        let img = document.getElementById("file").files[0];
        let formData = new FormData();
        let fileReader = new FileReader();
        fileReader.readAsDataURL(img);
        fileReader.onload = ()=>{
            let res = fileReader.result;
            $.ajax({
                url: 'http://127.0.0.1/api/addShops',
                data: {kind,font},
                type: 'post',
                sucess(res) {
                    if (res.code) {
                        console.log(res.msg)
                    } else {
                        console.log(res.msg)
                    }
                }
            })
        }
    })
    $(function (){
        $.get('http://127.0.0.1/api/getShops',(res)=>{
            if (!res.code){
                console.log("失败",res.code)
            }else{
                console.log(res)
                $("body").append(`<img src='${res.results[0].img}' />`)
            }
        })
    })
</script>
</body>
</html>